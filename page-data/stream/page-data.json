{"componentChunkName":"component---src-templates-post-jsx","path":"/stream/","result":{"data":{"site":{"siteMetadata":{"title":"kivv00ng"}},"markdownRemark":{"id":"77d90a7d-6c34-5192-bc0d-5421974569c0","excerpt":"1.Stream 이란? 스트림이란 순차 또는 병렬 집계 작업을 지원하는 데이터의 흐름이자 반복자 이다.\n(A sequence of elements supporting sequential and parallel aggregate operations.)\n이러한 개념을 토대로 나온 StreamAPI는 java에서도 함수형프로그래밍을 가능하도록 하기위해 나온 오…","html":"<h2>1.Stream 이란?</h2>\n<p>스트림이란 순차 또는 병렬 집계 작업을 지원하는 데이터의 흐름이자 반복자 이다.\n(A sequence of elements supporting sequential and parallel aggregate operations.)\n이러한 개념을 토대로 나온 StreamAPI는 java에서도 함수형프로그래밍을 가능하도록 하기위해 나온 오퍼레이션들의 모임이라고\n할 수 있다.</p>\n<h2>2. 특징</h2>\n<p>그렇다면 스트림의 특징은 무엇이 있을까?</p>\n<h3>스트림은 원본 데이터를 변경하지 않는다.</h3>\n<p>원본의 데이터를 조회하여 원본의 데이터가 아닌 별도의 요소들로 Stream을 생성한다.\n그렇기 때문에 원본의 데이터로부터 읽기만 할 뿐,정렬이나 필터링 등의 작업은 별도의 Stream 요소들에서 처리가 된다.</p>\n<h3>내부 반복으로 작업을 처리한다.</h3>\n<p>for이나 while문과는 다르게 반복문법을 메소드 내부에 숨기고 있어 코드가 간결해진다.</p>\n<h3>스트림으로 처리하는 데이터는 오직 한번만 처리한다.(일회성)</h3>\n<p>Interator와 같이 처리하고 지나가는 것이기에 재사용이 불가능하다.\n그렇기 때문에 다시 사용하려면 다시 stream을 생성하여야한다.</p>\n<h3>중개 오퍼레이션은 Lazy Evolution.</h3>\n<p>Lazy Evoution이란 실제로 필요해지는 경우에 연산을 시작하는 것인데 Stream의 중개 오퍼레이션이 이에 해당한다.</p>\n<p>아래는 그 예시이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">        <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> names <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ArrayList</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        names<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"a\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        names<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"bb\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        names<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ccc\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        names<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"dddd\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        names<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"eeeee\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        names<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ffffff\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token class-name\">Integer</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> result <span class=\"token operator\">=</span> names<span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>s <span class=\"token operator\">-></span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token keyword\">return</span> s<span class=\"token punctuation\">.</span><span class=\"token function\">length</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span>i <span class=\"token operator\">-></span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"filter!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">%</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">limit</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">toArray</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Integer</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token operator\">::</span><span class=\"token keyword\">new</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">a\nfilter!\nbb\nfilter!\nccc\nfilter!\ndddd\nfilter!</code></pre></div>\n<p>위의 코드 결과 처럼 lazy하게 하나씩 실행되며 조건에 만족한다면 뒤의 나머지 값들은 실행되지 않는다.\n또 다른 에시를 보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> names <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ArrayList</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nnames<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"aaa\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nnames<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"bbb\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nnames<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ccc\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nnames<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ddd\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nnames<span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>s <span class=\"token operator\">-></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"s\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> s<span class=\"token punctuation\">.</span><span class=\"token function\">toUpperCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>해당 코드의 print는 실행되지 않는다.\n왜냐하면 위에서 언급한 것과 같이 중개오퍼레이션은 종료오퍼레이션을 만나야 실행되기때문이다.\n우리는 이러한 구조를 스트림 파이프라인이라고 부른다.</p>\n<h2>3. 스트림 파이프라인</h2>\n<p>파이프라인이란 컴퓨터 과학에서 한 데이터 처리 단계의 출력이 다음 단계의 입력으로 이어지는 형태로 연결된 구조를 말한다.\n스트림은 중개오퍼레이션과 종료오퍼레이션을 가지고 이러한 파이프라인을 형성한다.\n여기서 스트림파이프 라인의 특징은 종료오퍼레이션이 시작되기 전까지 중개오퍼레이션은 지연(lazy)된다는 것이다.\n종료오퍼레이션이 시작하면 비로소 컬렉션에서 요소가 하나씩 중개오퍼레이션에서 처리되고 종료오퍼레이션까지 오게 된다.</p>\n<ul>\n<li>0 또는 다수의 중개 오퍼레이션 (intermediate operation)과 한개의 종료 오퍼레이션 (terminal operation)으로 구성한다.</li>\n<li>스트림의 데이터 소스는 오직 터미널 오퍼네이션을 실행할 때에만 처리한다.</li>\n</ul>\n<h3>중개 오퍼레이션</h3>\n<ul>\n<li>Stream을 리턴한다.</li>\n<li>Stateless / Stateful 오퍼레이션으로 더 상세하게 구분할 수도 있다.\n(대부분은 Stateless지만,distinct나 sorted처럼 이전 이전 소스 데이터를 참조해야 하는 경우는Stateful 오퍼레이션.)</li>\n<li>filter, map, limit, skip, sorted, ...</li>\n</ul>\n<h3>종료 오퍼레이션</h3>\n<ul>\n<li>Stream을 리턴하지 않는다.</li>\n<li>collect, allMatch, count, forEach, min, max, ...</li>\n</ul>\n<h3>참고</h3>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\">https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html</a></li>\n<li><a href=\"https://mangkyu.tistory.com/112\">https://mangkyu.tistory.com/112</a></li>\n</ul>","frontmatter":{"title":"Stream","date":"October 21, 2022","update":"October 21, 2022","tags":["java"],"series":null},"fields":{"slug":"/stream/","readingTime":{"minutes":4.78}}},"seriesList":{"edges":[{"node":{"id":"542384f2-bc41-5886-83d8-e0009636cce8","fields":{"slug":"/writing-guide-kr/"},"frontmatter":{"title":"작성 가이드"}}},{"node":{"id":"77d90a7d-6c34-5192-bc0d-5421974569c0","fields":{"slug":"/stream/"},"frontmatter":{"title":"Stream"}}},{"node":{"id":"c169fdab-3c63-59da-b404-3f490bfe027f","fields":{"slug":"/1주차/"},"frontmatter":{"title":"1주차를 마치고"}}},{"node":{"id":"324eeba4-3eed-5f6c-a290-b571c9f9e0ff","fields":{"slug":"/Enum/"},"frontmatter":{"title":"Enum"}}},{"node":{"id":"2070a2f6-a7e6-5798-94ea-59551fcb1cbb","fields":{"slug":"/junit5/"},"frontmatter":{"title":"Junit5"}}},{"node":{"id":"6c0efbf3-0244-5e57-ad5b-9c4db6ad426b","fields":{"slug":"/java-static/"},"frontmatter":{"title":"Static"}}},{"node":{"id":"0592fde8-0edb-5872-806f-74e0898fc333","fields":{"slug":"/2주차/"},"frontmatter":{"title":"2주차를 회고"}}}]},"previous":{"fields":{"slug":"/writing-guide-kr/"},"frontmatter":{"title":"작성 가이드"}},"next":{"fields":{"slug":"/1주차/"},"frontmatter":{"title":"1주차를 마치고"}}},"pageContext":{"id":"77d90a7d-6c34-5192-bc0d-5421974569c0","series":null,"previousPostId":"542384f2-bc41-5886-83d8-e0009636cce8","nextPostId":"c169fdab-3c63-59da-b404-3f490bfe027f"}},"staticQueryHashes":[]}